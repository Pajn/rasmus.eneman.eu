<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Flux vs Redux</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/assets/style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Inconsolata:400,700|Roboto+Slab">

    <link rel="canonical" href="https://rasmus.eneman.eu">
    <meta name="referrer" content="origin">

    <meta property="og:site_name" content="Rasmus Eneman">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Rasmus Eneman">
    <meta property="og:description" content="Studying web developer and politically interested">
    <meta property="og:url" content="https://rasmus.eneman.eu">
    <meta property="og:image" content="https://rasmus.eneman.euassets/bg/1109x499.JPG">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Rasmus Eneman">
    <meta name="twitter:description" content="Studying web developer and politically interested">
    <meta name="twitter:url" content="https://rasmus.eneman.eu">
    <meta name="twitter:image:src" content="https://rasmus.eneman.euassets/bg/1109x499.JPG">

    <script src="//www.google-analytics.com/analytics.js" async></script>
    <script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Website",
  "publisher": "Rasmus Eneman",
  "url": "https://rasmus.eneman.eu",
  "image": "https://rasmus.eneman.euassets/bg/1109x499.JPG",
  "description": "Studying web developer and politically interested"
}
    </script>

    <link rel="alternate" type="application/rss+xml" title="Rasmus Eneman" href="https://rasmus.eneman.eurss/">
    <script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-51338401-1', 'auto');
ga('send', 'pageview');
    </script>
  </head>
  <body>
    <header class="site-header">
      
    <nav>
      <a class="subscribe-button icon-feed" href="/rss/">Subscribe</a>
      <a class="back-button icon-arrow-left" href="/">Home</a>
    </nav>


    </header>
    <main>
      
    <article >
      <header>
        <h1>Flux vs Redux</h1>
        <section class="post-meta in-post">
          <time datetime="2015-11-21T00:00:00.000Z">21 November 2015</time>
        </section>
      </header>

      <section class="post-content">
        <p>As I have used Flux previously and the course required Redux I have spent quite a lot of time comparing them and trying to understand to pros and cons between them. If you don’t stare at terminology or details they are pretty similar. A Redux store is like a Flux dispatcher and a Redux Reducer is like a Flux store. What seams like the biggest difference is that the state is stored in the dispatcher, or store rather than the stores, or reducers. This means that the data is only stored at a single place instead of multiple places.</p>
<h4>So what does having data at a single place give us?</h4>
<p>From what I can see so far, not so much. We usually never operate on all data at the same time. Sure if we want to persist the state it can be helpful but my guess is that you don’t want to persist all of the state anyway, just key parts of it.</p>
<h4>So what makes Redux interesting?</h4>
<p>My answer to that is that reducers have a simple and well defined API that gives an outsider full control over the data it produces.
A reducer is just a function that takes the current state and the dispatched action and then returns the updated state. It never stores data or have any other side effects, and that makes them very composable. If you for example want undo/redo support you can use an <a href="https://github.com/omnidan/redux-undo">existing library</a> or write your own in a few lines</p>
<pre><code class="language-javascript"><span class="token keyword" >export</span> <span class="token keyword" >function</span> <span class="token function" >undoable</span><span class="token punctuation" >(</span>reducer<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >return</span> <span class="token punctuation" >(</span>state<span class="token punctuation" >,</span> action<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
    <span class="token keyword" >switch</span> <span class="token punctuation" >(</span>action<span class="token punctuation" >.</span>type<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
      <span class="token keyword" >case</span> <span class="token string" >'undo'</span><span class="token punctuation" >:</span>
        <span class="token keyword" >if</span> <span class="token punctuation" >(</span>state<span class="token punctuation" >.</span>past<span class="token punctuation" >.</span>length <span class="token operator" >&lt;</span> <span class="token number" >1</span><span class="token punctuation" >)</span> <span class="token keyword" >return</span> state<span class="token punctuation" >;</span>

        <span class="token keyword" >return</span> <span class="token punctuation" >{</span>
          past<span class="token punctuation" >:</span> state<span class="token punctuation" >.</span>past<span class="token punctuation" >.</span><span class="token function" >slice</span><span class="token punctuation" >(</span><span class="token number" >1</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
          present<span class="token punctuation" >:</span> state<span class="token punctuation" >.</span>past<span class="token punctuation" >[</span><span class="token number" >0</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>
          future<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>state<span class="token punctuation" >.</span>present<span class="token punctuation" >,</span> <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>state<span class="token punctuation" >.</span>future<span class="token punctuation" >]</span><span class="token punctuation" >,</span>
        <span class="token punctuation" >}</span><span class="token punctuation" >;</span>

      <span class="token keyword" >case</span> <span class="token string" >'redo'</span><span class="token punctuation" >:</span>
        <span class="token keyword" >if</span> <span class="token punctuation" >(</span>state<span class="token punctuation" >.</span>future<span class="token punctuation" >.</span>length <span class="token operator" >&lt;</span> <span class="token number" >1</span><span class="token punctuation" >)</span> <span class="token keyword" >return</span> state<span class="token punctuation" >;</span>

        <span class="token keyword" >return</span> <span class="token punctuation" >{</span>
          past<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>state<span class="token punctuation" >.</span>present<span class="token punctuation" >,</span> <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>state<span class="token punctuation" >.</span>past<span class="token punctuation" >]</span><span class="token punctuation" >,</span>
          present<span class="token punctuation" >:</span> state<span class="token punctuation" >.</span>future<span class="token punctuation" >[</span><span class="token number" >0</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>
          future<span class="token punctuation" >:</span> state<span class="token punctuation" >.</span>future<span class="token punctuation" >.</span><span class="token function" >slice</span><span class="token punctuation" >(</span><span class="token number" >1</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
        <span class="token punctuation" >}</span><span class="token punctuation" >;</span>

      <span class="token keyword" >default</span><span class="token punctuation" >:</span>
        <span class="token keyword" >if</span> <span class="token punctuation" >(</span><span class="token operator" >!</span>state<span class="token punctuation" >)</span> <span class="token keyword" >return</span> <span class="token punctuation" >{</span>
          past<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>
          present<span class="token punctuation" >:</span> <span class="token function" >reducer</span><span class="token punctuation" >(</span>state<span class="token punctuation" >,</span> action<span class="token punctuation" >)</span><span class="token punctuation" >,</span>
          future<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>
        <span class="token punctuation" >}</span><span class="token punctuation" >;</span>

        <span class="token keyword" >return</span> <span class="token punctuation" >{</span>
          past<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>state<span class="token punctuation" >.</span>present<span class="token punctuation" >,</span> <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>state<span class="token punctuation" >.</span>past<span class="token punctuation" >]</span><span class="token punctuation" >,</span>
          present<span class="token punctuation" >:</span> <span class="token function" >reducer</span><span class="token punctuation" >(</span>state<span class="token punctuation" >.</span>present<span class="token punctuation" >,</span> action<span class="token punctuation" >)</span><span class="token punctuation" >,</span>
          future<span class="token punctuation" >:</span> state<span class="token punctuation" >.</span>future<span class="token punctuation" >,</span>
        <span class="token punctuation" >}</span><span class="token punctuation" >;</span>
    <span class="token punctuation" >}</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span>
</code></pre>
<p>See how easy it was to create a higher-order reducer, a reducer that uses another reducer to do it’s job. The above code have no expectations on the inner reducer other than that if follows the Redux reducer API, which means that it can be used with any reducer ever written for Redux.
This is can be quite powerful and is where Redux trumps over Flux. In Flux a store have no other public API other than reading its data. If you want to add some functionality to it, for example undo/redo, you’ll have to modify the store itself.</p>
<h4>So what are the downsides?</h4>
<p>Actually, I’m not sure.
Redux first felt a bit limited to me as it is strict about actions being for modifying state, where Flux can be used as a generic message bus that passes actions which fires of calculations or what not. However I’m starting to think that that is a good thing, if you want a generic message bus there are other technologies for that.</p>
<p>Another pain point for me were that I lost a lot of type info in Typescript, however by creating <a href="https://github.com/Pajn/anterminal/blob/master/app/lib/redux/helpers.ts">helper functions</a> that wraps Redux I was able to create an API where types could be flowed so I get full type info without having to specify the type on more than one place.</p>
<p>Flux and Redux implements the same patterns but in slightly different ways so it may actually be so that there is no mentionable downsides. Redux just made the store logic composable.</p>
<p>So it seems that David has won me over to the Redux side :)</p>

      </section>
    </article>

    <aside>
      <div id="comments"></div>
      <script src="https://apis.google.com/js/plusone.js"></script>
      <script>
        var commentsWidth = document.getElementById('comments').offsetWidth;
        window.addEventListener('load', function () {
          gapi.comments.render('comments', {
            href: 'https://rasmus.eneman.eu/flux-vs-redux/',
            width: commentsWidth,
            first_party_property: 'BLOGGER',
            view_type: 'FILTERED_POSTMOD',
          });
        });
     </script>
    </aside>


    </main>
    <footer class="site-footer">
      <section class="copyright">
        <a href="https://rasmus.eneman.eu">Rasmus Eneman</a> © 2015
        <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA</a>
        Some rights reserved
      </section>
    </footer>
  </body>
</html>
